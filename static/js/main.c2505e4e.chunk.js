(this["webpackJsonpspbfiller-test-assignment"]=this["webpackJsonpspbfiller-test-assignment"]||[]).push([[0],{13:function(e,t,n){e.exports={page:"page_page__2koG9"}},18:function(e,t,n){e.exports=n(29)},23:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(6),c=n.n(o),i=(n(23),n(1)),u=n(4),l=n(3),d=Object(u.b)({name:"page",initialState:{width:400,height:400}}),s=Object(l.a)((function(e){return e.page}),(function(e){return e})),m=n(13),f=n.n(m),h=function(e){var t=e.children,n=Object(i.c)(s);return a.a.createElement("div",{className:f.a.page,style:{width:"".concat(n.width,"px"),height:"".concat(n.height,"px"),backgroundColor:"#d8d8d8"}},t)},g=function(e){return"".concat(e,"px")},b=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},p=function(){return"#000000".replace(/0/g,(function(){return b(0,15).toString(16)}))},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.excludeColors,n=void 0===t?[]:t,r=function e(){var t=p();return n.includes((function(e){return e===t}))?e():t};return r()},v=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n={},r=0;r<e;r++){var a=t(r),o=a.id,c=void 0===o?r:o;n[c]=a}return n},y=n(17),_=function(e){var t=e.pageSize,n=b(40,100),r=b(40,100);return{id:Object(y.a)(),width:n,height:r,backgroundColor:w({excludeColors:["#d8d8d8"]}),x:b(0,t.width-n),y:b(0,t.height-r)}},x=Object(u.b)({name:"elements",initialState:{},reducers:{renew:function(e,t){return t.payload},updateElementPosition:function(e,t){var n=t.payload,r=e[n.id];r&&(r.x=n.x,r.y=n.y)}}}),j=x.actions,O=j.updateElementPosition,E=j.renew,k=Object(l.a)((function(e){return e.elements}),(function(e){return Object.values(e)})),C=Object(l.a)(k,(function(e){return e.length})),S=n(16),N=n(14),D=a.a.forwardRef((function(e,t){var n=e.id,r=e.width,o=e.height,c=e.backgroundColor,i=e.onMouseDown,u=e.onTouchStart,l=e.className,d=e.x,s=e.y;return a.a.createElement("div",{ref:t,className:l,"data-id":n,onMouseDown:i,onTouchStart:u,style:{width:r,height:o,backgroundColor:c,left:d,top:s,position:"absolute"}})})),M=a.a.memo(D),J=n(5),z=n.n(J),T=a.a.memo((function(e){var t=e.x,n=e.y,r=e.backgroundColor,o=e.width,c=e.height,u=e.id,l=a.a.useRef(null),d=Object(i.b)(),m=Object(i.c)(s),f=a.a.useCallback((function(e,t){l.current&&(l.current.style.transform="translate3d(".concat(e,"px, ").concat(t,"px, 0)"))}),[]),h=a.a.useCallback((function(e,r){if(l.current){var a=t+e,o=n+r;l.current.style.top=g(o),l.current.style.left=g(a),l.current.style.transform=null,d(O({id:l.current.dataset.id,x:a,y:o}))}}),[t,n,d]),b=Object(N.a)((function(e){var t=e.down,n=Object(S.a)(e.movement,2),r=n[0],a=n[1];t?f(r,a):h(r,a)}),{bounds:function(){var e=m.width,r=m.height;return{left:-t,right:e-t-o,top:-n,bottom:r-n-c}}()});return a.a.createElement(M,Object.assign({id:u,x:t,y:n,className:z.a["draggable-rectangle"],width:o,height:c,backgroundColor:r,ref:l},b()))})),B=function(){return Object(i.c)(k).map((function(e){return a.a.createElement(T,{key:e.id,id:e.id,width:e.width,height:e.height,x:e.x,y:e.y,backgroundColor:e.backgroundColor})}))},F=function(){var e=Object(i.b)(),t=Object(i.c)(C);return a.a.createElement("form",{className:z.a.form,onSubmit:function(t){t.preventDefault();var n=new FormData(t.currentTarget),r=Number(n.get("count"));e(function(e){return function(t,n){var r=n().page,a=v(e,(function(){return _({pageSize:{width:r.width,height:r.height}})}));return t(E(a))}}(r))}},a.a.createElement("input",{className:z.a["form-control"],defaultValue:t,name:"count",type:"text",inputMode:"numeric",pattern:"[0-9]*",autoComplete:"off"}),a.a.createElement("button",{className:z.a.btn,type:"submit"},"Generate"))};function G(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(h,null,a.a.createElement(B,null)),a.a.createElement(F,null))}var I=n(15),P=Object(I.createLogger)(),R=v(100,(function(){return _({pageSize:{width:400,height:400}})})),W=Object(u.a)({reducer:{page:d.reducer,elements:x.reducer},preloadedState:{elements:R},middleware:function(e){return e().concat(P)}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(i.a,{store:W},a.a.createElement(G,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},5:function(e,t,n){e.exports={"draggable-rectangle":"elements_draggable-rectangle__1IpQo",form:"elements_form__3Jw7j","form-control":"elements_form-control__dY9a2",btn:"elements_btn__2a6S8",focus:"elements_focus__2N2D7",disabled:"elements_disabled__2D55J"}}},[[18,1,2]]]);
//# sourceMappingURL=main.c2505e4e.chunk.js.map